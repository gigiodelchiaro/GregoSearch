(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();let u={},c;async function a(t){try{const n=await fetch(`/locales/${t}.json`);if(!n.ok)throw new Error(`Could not load ${t}.json`);u=await n.json(),c=t}catch(n){console.error(n),t!=="en"&&await a("en")}}function l(){const t=navigator.language.split("-")[0];return["en","pt"].includes(t)?t:"en"}function f(t,n={}){let s=u[t]||t;for(const[o,e]of Object.entries(n))s=s.replace(`{${o}}`,String(e));return s}async function p(){const t=l();await a(t)}function d(t){const n=document.getElementById("language-switcher");if(!n)return;n.innerHTML="",["en","pt"].forEach(o=>{const e=document.createElement("button");e.textContent=o.toUpperCase(),e.classList.add("lang-switcher-btn"),o===c&&e.classList.add("active"),e.addEventListener("click",async()=>{o!==c&&(await a(o),document.documentElement.lang=o,t(),d(t))}),n.appendChild(e)})}export{p as i,d as r,f as t};
